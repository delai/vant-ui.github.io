import{u as O}from"./use-expose-c87283be.js";import{A as R,D as _,e,y as m,r as B,o as I,a as P,w as i,d,C as t,g as N,t as b,F as E}from"./vue-libs-6a67f9c6.js";import{c as U,h as V,a as G}from"./use-translate-ad5eefa4.js";import{b as H,a as k,t as $,m as F,w as j}from"./with-install-0d9206aa.js";import{V as h}from"./index-1e24e283.js";import{V as M,a as D}from"./index-1955a536.js";import"./use-route-ea8124d0.js";import"./index-1c02023b.js";import"./index-4437616e.js";import"./index-5b517ddf.js";import"./constant-00b7fd44.js";const z={figureArr:H(),delay:Number,duration:k(2),isStart:Boolean,direction:String},T=40,L=R({name:"RollSingle",props:z,setup(a){const n={classNameSpace:"roll-single-down",aniClass:"van-roll-single-down__ani",dataHandle:()=>a.figureArr.slice().reverse()},f={classNameSpace:"roll-single-up",aniClass:"van-roll-single-up__ani",dataHandle:()=>a.figureArr},s=a.direction==="down"?n:f,[v,g]=U(s.classNameSpace),p=_(s.dataHandle),x=_(()=>T*a.figureArr.length-T),c=_(()=>`-${x.value}px`),S={lineHeight:V(T)},C=()=>({height:V(T),"--van-translate":c.value,"--van-duration":a.duration+"s","--van-delay":a.delay+"s"});return()=>e("div",{style:C(),class:[g(),"van-roll-single"]},[e("div",{class:[g("box"),{[s.aniClass]:a.isStart}]},[Array.isArray(p.value)&&p.value.map(r=>e("div",{class:g("item"),style:S},[r]))])])}}),[q,J]=U("rolling-text"),K={startNum:k(0),targetNum:Number,textArray:H(),duration:k(2),autoStart:$,direction:F("down"),stopOrder:F("ltr")},Q=2,W=R({name:q,props:K,setup(a){const n=_(()=>Array.isArray(a.textArray)&&a.textArray.length),f=r=>{if(!n.value)return[];const l=[];for(let o=0;o<a.textArray.length;o++)l.push(a.textArray[o][r]);return l},s=_(()=>n.value?a.textArray[a.textArray.length-1].split(""):`${a.targetNum}`.split("")),v=()=>{const r=`${a.startNum}`.split("");for(;r.length<s.value.length;)r.unshift("0");return r},g=r=>[v()[r],s.value[r]],p=r=>{const[l,o]=g(r),A=[];for(let u=+l;u<=9;u++)A.push(u);for(let u=0;u<=Q;u++)for(let w=0;w<=9;w++)A.push(w);for(let u=0;u<=+o;u++)A.push(u);return A},x=(r,l)=>a.stopOrder==="ltr"?.2*r:.2*(l-1-r),c=m(!1);return O({start:()=>{c.value=!0},reset:()=>{c.value=!1}}),()=>e("div",{class:J()},[s.value.map((r,l)=>e(L,{figureArr:n.value?f(l):p(l),duration:a.duration,direction:a.direction,isStart:a.autoStart||c.value,delay:x(l,s.value.length)},null))])}}),X=j(W),y=X,Y={style:{}},Z={style:{"margin-top":"10px"}},tt={style:{"margin-top":"10px"}},et={style:{"margin-top":"10px"}},rt={style:{"margin-top":"10px"}},pt=R({__name:"index",setup(a){const n=G({"zh-CN":{direction:"设置翻滚方向",stopOrder:"设置各数位停止顺序",rollDown:"向下翻滚",rollUp:"向上翻滚",stopFrom:"从个位停止",manualControl:"手动控制",customStyle:"自定义样式",noNumberType:"翻转非数字内容",start:"开始",reset:"重置"},"en-US":{direction:"Set Rolling Direction",stopOrder:"Set Stop Order",rollDown:"Roll Down",rollUp:"Roll Up",stopFrom:"Right Side Stop First",manualControl:"Manual Control",customStyle:"Custom Style",noNumberType:"Roll Non-numeric Text",start:"Start",reset:"Reset"}}),f=m(!1),s=m(!1),v=m(!1),g=m(!1),p=m(!1),x=m(["aaaaa","bbbbb","ccccc","ddddd","eeeee","fffff","ggggg"]),c=m(),S=()=>{var r;(r=c.value)==null||r.start()},C=()=>{var r;(r=c.value)==null||r.reset()};return(r,l)=>{const o=B("demo-block");return I(),P(E,null,[e(o,{title:t(n)("basicUsage")},{default:i(()=>[d("div",Y,[e(t(y),{"start-num":0,"target-num":123,duration:2,"auto-start":f.value,direction:"down"},null,8,["auto-start"]),d("div",Z,[e(t(h),{onClick:l[0]||(l[0]=()=>f.value=!0),type:"primary"},{default:i(()=>[N(b(t(n)("rollDown")),1)]),_:1})])])]),_:1},8,["title"]),e(o,{title:t(n)("direction")},{default:i(()=>[d("div",null,[e(t(y),{"start-num":0,"target-num":432,duration:2,"auto-start":s.value,direction:"up"},null,8,["auto-start"]),d("div",tt,[e(t(h),{onClick:l[1]||(l[1]=()=>s.value=!0),type:"primary"},{default:i(()=>[N(b(t(n)("rollUp")),1)]),_:1})])])]),_:1},8,["title"]),e(o,{title:t(n)("stopOrder")},{default:i(()=>[d("div",null,[e(t(y),{"start-num":0,"target-num":54321,duration:2,"auto-start":v.value,"stop-order":"rtl",direction:"up"},null,8,["auto-start"]),d("div",et,[e(t(h),{onClick:l[2]||(l[2]=()=>v.value=!0),type:"primary"},{default:i(()=>[N(b(t(n)("stopFrom")),1)]),_:1})])])]),_:1},8,["title"]),e(o,{title:t(n)("noNumberType")},{default:i(()=>[d("div",null,[e(t(y),{"text-array":x.value,duration:1,"auto-start":p.value,"stop-order":"rtl",direction:"up"},null,8,["text-array","auto-start"]),d("div",rt,[e(t(h),{onClick:l[3]||(l[3]=()=>p.value=!0),type:"primary"},{default:i(()=>[N(b(t(n)("start")),1)]),_:1})])])]),_:1},8,["title"]),e(o,{title:t(n)("customStyle")},{default:i(()=>[d("div",null,[e(t(y),{class:"my-rolling-text","start-num":12345,"target-num":54321,duration:2,"auto-start":g.value,"stop-order":"rtl",direction:"up"},null,8,["auto-start"])])]),_:1},8,["title"]),e(o,{title:t(n)("manualControl")},{default:i(()=>[d("div",null,[e(t(y),{class:"my-rolling-text",ref_key:"rollingTextRef",ref:c,"start-num":0,"target-num":54321,duration:2,"auto-start":!1,"stop-order":"rtl",direction:"up"},null,512),e(t(M),{clickable:"","column-num":3,style:{"margin-top":"10px"}},{default:i(()=>[e(t(D),{icon:"play-circle-o",text:t(n)("start"),onClick:S},null,8,["text"]),e(t(D),{icon:"replay",text:t(n)("reset"),onClick:C},null,8,["text"])]),_:1})])]),_:1},8,["title"])],64)}}});export{pt as default};
