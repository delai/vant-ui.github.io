{"version":3,"file":"static/js/async/284.c29ff241.js","sources":["../../../node_modules/.pnpm/vue-loader@17.3.1_vue@3.3.4_webpack@5.89.0/node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!../../vant/src/lazyload/demo/index.vue","../../vant/src/lazyload/vue-lazyload/index.js","../../vant/src/lazyload/vue-lazyload/lazy-component.js","../../vant/src/lazyload/vue-lazyload/lazy-container.js","../../vant/src/lazyload/vue-lazyload/lazy-image.js","../../vant/src/lazyload/vue-lazyload/lazy.js","../../vant/src/lazyload/vue-lazyload/listener.js","../../vant/src/lazyload/vue-lazyload/util.js","../../vant/src/lazyload/demo/index.vue","../../vant/src/lazyload/index.ts"],"sourcesContent":["import script from \"./index.vue.ts?vue&type=script&setup=true&lang=ts!=!../../../../../node_modules/.pnpm/vue-loader@17.3.1_vue@3.3.4_webpack@5.89.0/node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./index.vue?vue&type=script&setup=true&lang=ts\"\nexport * from \"./index.vue.ts?vue&type=script&setup=true&lang=ts!=!../../../../../node_modules/.pnpm/vue-loader@17.3.1_vue@3.3.4_webpack@5.89.0/node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./index.vue?vue&type=script&setup=true&lang=ts\"\n\nimport \"./index.vue.less?vue&type=style&index=0&id=0a2184f9&lang=less!=!../../../../../node_modules/.pnpm/vue-loader@17.3.1_vue@3.3.4_webpack@5.89.0/node_modules/vue-loader/dist/index.js??ruleSet[0].use[0]!./index.vue?vue&type=style&index=0&id=0a2184f9&lang=less\"\n\nconst __exports__ = script;\n\nexport default __exports__","/**\n * This is a fork of [vue-lazyload](https://github.com/hilongjw/vue-lazyload) with Vue 3 support.\n * license at https://github.com/hilongjw/vue-lazyload/blob/master/LICENSE\n */\n\nimport Lazy from './lazy';\nimport LazyComponent from './lazy-component';\nimport LazyContainer from './lazy-container';\nimport LazyImage from './lazy-image';\n\nexport const Lazyload = {\n  /*\n   * install function\n   * @param  {App} app\n   * @param  {object} options lazyload options\n   */\n  install(app, options = {}) {\n    const LazyClass = Lazy();\n    const lazy = new LazyClass(options);\n    const lazyContainer = new LazyContainer({ lazy });\n\n    app.config.globalProperties.$Lazyload = lazy;\n\n    if (options.lazyComponent) {\n      app.component('LazyComponent', LazyComponent(lazy));\n    }\n\n    if (options.lazyImage) {\n      app.component('LazyImage', LazyImage(lazy));\n    }\n\n    app.directive('lazy', {\n      beforeMount: lazy.add.bind(lazy),\n      updated: lazy.update.bind(lazy),\n      unmounted: lazy.remove.bind(lazy),\n    });\n\n    app.directive('lazy-container', {\n      beforeMount: lazyContainer.bind.bind(lazyContainer),\n      updated: lazyContainer.update.bind(lazyContainer),\n      unmounted: lazyContainer.unbind.bind(lazyContainer),\n    });\n  },\n};\n","/**\n * This is a fork of [vue-lazyload](https://github.com/hilongjw/vue-lazyload) with Vue 3 support.\n * license at https://github.com/hilongjw/vue-lazyload/blob/master/LICENSE\n */\n\nimport { h } from 'vue';\nimport { inBrowser, useRect } from '@vant/use';\n\nexport default (lazy) => ({\n  props: {\n    tag: {\n      type: String,\n      default: 'div',\n    },\n  },\n\n  emits: ['show'],\n\n  render() {\n    return h(\n      this.tag,\n      this.show && this.$slots.default ? this.$slots.default() : null,\n    );\n  },\n\n  data() {\n    return {\n      el: null,\n      state: {\n        loaded: false,\n      },\n      show: false,\n    };\n  },\n\n  mounted() {\n    this.el = this.$el;\n    lazy.addLazyBox(this);\n    lazy.lazyLoadHandler();\n  },\n\n  beforeUnmount() {\n    lazy.removeComponent(this);\n  },\n\n  methods: {\n    checkInView() {\n      const rect = useRect(this.$el);\n      return (\n        inBrowser &&\n        rect.top < window.innerHeight * lazy.options.preLoad &&\n        rect.bottom > 0 &&\n        rect.left < window.innerWidth * lazy.options.preLoad &&\n        rect.right > 0\n      );\n    },\n\n    load() {\n      this.show = true;\n      this.state.loaded = true;\n      this.$emit('show', this);\n    },\n\n    destroy() {\n      return this.$destroy;\n    },\n  },\n});\n","/**\n * This is a fork of [vue-lazyload](https://github.com/hilongjw/vue-lazyload) with Vue 3 support.\n * license at https://github.com/hilongjw/vue-lazyload/blob/master/LICENSE\n */\n\n/* eslint-disable max-classes-per-file */\n/* eslint-disable prefer-object-spread */\nimport { remove } from './util';\n\nconst defaultOptions = {\n  selector: 'img',\n};\n\nclass LazyContainer {\n  constructor({ el, binding, vnode, lazy }) {\n    this.el = null;\n    this.vnode = vnode;\n    this.binding = binding;\n    this.options = {};\n    this.lazy = lazy;\n\n    this.queue = [];\n    this.update({ el, binding });\n  }\n\n  update({ el, binding }) {\n    this.el = el;\n    this.options = Object.assign({}, defaultOptions, binding.value);\n\n    const imgs = this.getImgs();\n    imgs.forEach((el) => {\n      this.lazy.add(\n        el,\n        Object.assign({}, this.binding, {\n          value: {\n            src: 'dataset' in el ? el.dataset.src : el.getAttribute('data-src'),\n            error:\n              ('dataset' in el\n                ? el.dataset.error\n                : el.getAttribute('data-error')) || this.options.error,\n            loading:\n              ('dataset' in el\n                ? el.dataset.loading\n                : el.getAttribute('data-loading')) || this.options.loading,\n          },\n        }),\n        this.vnode,\n      );\n    });\n  }\n\n  getImgs() {\n    return Array.from(this.el.querySelectorAll(this.options.selector));\n  }\n\n  clear() {\n    const imgs = this.getImgs();\n    imgs.forEach((el) => this.lazy.remove(el));\n\n    this.vnode = null;\n    this.binding = null;\n    this.lazy = null;\n  }\n}\n\nexport default class LazyContainerManager {\n  constructor({ lazy }) {\n    this.lazy = lazy;\n    this.queue = [];\n  }\n\n  bind(el, binding, vnode) {\n    const container = new LazyContainer({\n      el,\n      binding,\n      vnode,\n      lazy: this.lazy,\n    });\n    this.queue.push(container);\n  }\n\n  update(el, binding, vnode) {\n    const container = this.queue.find((item) => item.el === el);\n    if (!container) return;\n    container.update({ el, binding, vnode });\n  }\n\n  unbind(el) {\n    const container = this.queue.find((item) => item.el === el);\n    if (!container) return;\n    container.clear();\n    remove(this.queue, container);\n  }\n}\n","/**\n * This is a fork of [vue-lazyload](https://github.com/hilongjw/vue-lazyload) with Vue 3 support.\n * license at https://github.com/hilongjw/vue-lazyload/blob/master/LICENSE\n */\n\nimport { useRect } from '@vant/use';\nimport { loadImageAsync } from './util';\nimport { noop } from '../../utils';\nimport { h } from 'vue';\n\nexport default (lazyManager) => ({\n  props: {\n    src: [String, Object],\n    tag: {\n      type: String,\n      default: 'img',\n    },\n  },\n  render() {\n    return h(\n      this.tag,\n      {\n        src: this.renderSrc,\n      },\n      this.$slots.default?.(),\n    );\n  },\n  data() {\n    return {\n      el: null,\n      options: {\n        src: '',\n        error: '',\n        loading: '',\n        attempt: lazyManager.options.attempt,\n      },\n      state: {\n        loaded: false,\n        error: false,\n        attempt: 0,\n      },\n      renderSrc: '',\n    };\n  },\n  watch: {\n    src() {\n      this.init();\n      lazyManager.addLazyBox(this);\n      lazyManager.lazyLoadHandler();\n    },\n  },\n  created() {\n    this.init();\n  },\n  mounted() {\n    this.el = this.$el;\n    lazyManager.addLazyBox(this);\n    lazyManager.lazyLoadHandler();\n  },\n  beforeUnmount() {\n    lazyManager.removeComponent(this);\n  },\n  methods: {\n    init() {\n      const { src, loading, error } = lazyManager.valueFormatter(this.src);\n      this.state.loaded = false;\n      this.options.src = src;\n      this.options.error = error;\n      this.options.loading = loading;\n      this.renderSrc = this.options.loading;\n    },\n    checkInView() {\n      const rect = useRect(this.$el);\n      return (\n        rect.top < window.innerHeight * lazyManager.options.preLoad &&\n        rect.bottom > 0 &&\n        rect.left < window.innerWidth * lazyManager.options.preLoad &&\n        rect.right > 0\n      );\n    },\n    load(onFinish = noop) {\n      if (this.state.attempt > this.options.attempt - 1 && this.state.error) {\n        if (\n          process.env.NODE_ENV !== 'production' &&\n          !lazyManager.options.silent\n        ) {\n          console.log(\n            `[@vant/lazyload] ${this.options.src} tried too more than ${this.options.attempt} times`,\n          );\n        }\n\n        onFinish();\n        return;\n      }\n      const { src } = this.options;\n      loadImageAsync(\n        { src },\n        ({ src }) => {\n          this.renderSrc = src;\n          this.state.loaded = true;\n        },\n        () => {\n          this.state.attempt++;\n          this.renderSrc = this.options.error;\n          this.state.error = true;\n        },\n      );\n    },\n  },\n});\n","/**\n * This is a fork of [vue-lazyload](https://github.com/hilongjw/vue-lazyload) with Vue 3 support.\n * license at https://github.com/hilongjw/vue-lazyload/blob/master/LICENSE\n */\n\nimport { nextTick } from 'vue';\nimport { inBrowser, getScrollParent } from '@vant/use';\nimport {\n  remove,\n  on,\n  off,\n  throttle,\n  supportWebp,\n  getDPR,\n  getBestSelectionFromSrcset,\n  hasIntersectionObserver,\n  modeType,\n  ImageCache,\n} from './util';\nimport { isObject } from '../../utils';\nimport ReactiveListener from './listener';\n\nconst DEFAULT_URL =\n  'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7';\nconst DEFAULT_EVENTS = [\n  'scroll',\n  'wheel',\n  'mousewheel',\n  'resize',\n  'animationend',\n  'transitionend',\n  'touchmove',\n];\nconst DEFAULT_OBSERVER_OPTIONS = {\n  rootMargin: '0px',\n  threshold: 0,\n};\n\nexport default function () {\n  return class Lazy {\n    constructor({\n      preLoad,\n      error,\n      throttleWait,\n      preLoadTop,\n      dispatchEvent,\n      loading,\n      attempt,\n      silent = true,\n      scale,\n      listenEvents,\n      filter,\n      adapter,\n      observer,\n      observerOptions,\n    }) {\n      this.mode = modeType.event;\n      this.listeners = [];\n      this.targetIndex = 0;\n      this.targets = [];\n      this.options = {\n        silent,\n        dispatchEvent: !!dispatchEvent,\n        throttleWait: throttleWait || 200,\n        preLoad: preLoad || 1.3,\n        preLoadTop: preLoadTop || 0,\n        error: error || DEFAULT_URL,\n        loading: loading || DEFAULT_URL,\n        attempt: attempt || 3,\n        scale: scale || getDPR(scale),\n        ListenEvents: listenEvents || DEFAULT_EVENTS,\n        supportWebp: supportWebp(),\n        filter: filter || {},\n        adapter: adapter || {},\n        observer: !!observer,\n        observerOptions: observerOptions || DEFAULT_OBSERVER_OPTIONS,\n      };\n      this.initEvent();\n      this.imageCache = new ImageCache({ max: 200 });\n      this.lazyLoadHandler = throttle(\n        this.lazyLoadHandler.bind(this),\n        this.options.throttleWait,\n      );\n\n      this.setMode(this.options.observer ? modeType.observer : modeType.event);\n    }\n\n    /**\n     * update config\n     * @param  {Object} config params\n     * @return\n     */\n    config(options = {}) {\n      Object.assign(this.options, options);\n    }\n\n    /**\n     * output listener's load performance\n     * @return {Array}\n     */\n    performance() {\n      return this.listeners.map((item) => item.performance());\n    }\n\n    /*\n     * add lazy component to queue\n     * @param  {Vue} vm lazy component instance\n     * @return\n     */\n    addLazyBox(vm) {\n      this.listeners.push(vm);\n      if (inBrowser) {\n        this.addListenerTarget(window);\n        this.observer && this.observer.observe(vm.el);\n        if (vm.$el && vm.$el.parentNode) {\n          this.addListenerTarget(vm.$el.parentNode);\n        }\n      }\n    }\n\n    /*\n     * add image listener to queue\n     * @param  {DOM} el\n     * @param  {object} binding vue directive binding\n     * @param  {vnode} vnode vue directive vnode\n     * @return\n     */\n    add(el, binding, vnode) {\n      if (this.listeners.some((item) => item.el === el)) {\n        this.update(el, binding);\n        return nextTick(this.lazyLoadHandler);\n      }\n\n      const value = this.valueFormatter(binding.value);\n      let { src } = value;\n\n      nextTick(() => {\n        src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n        this.observer && this.observer.observe(el);\n\n        const container = Object.keys(binding.modifiers)[0];\n        let $parent;\n\n        if (container) {\n          $parent = vnode.context.$refs[container];\n          // if there is container passed in, try ref first, then fallback to getElementById to support the original usage\n          $parent = $parent\n            ? $parent.$el || $parent\n            : document.getElementById(container);\n        }\n\n        if (!$parent) {\n          $parent = getScrollParent(el);\n        }\n\n        const newListener = new ReactiveListener({\n          bindType: binding.arg,\n          $parent,\n          el,\n          src,\n          loading: value.loading,\n          error: value.error,\n          cors: value.cors,\n          elRenderer: this.elRenderer.bind(this),\n          options: this.options,\n          imageCache: this.imageCache,\n        });\n\n        this.listeners.push(newListener);\n\n        if (inBrowser) {\n          this.addListenerTarget(window);\n          this.addListenerTarget($parent);\n        }\n\n        this.lazyLoadHandler();\n        nextTick(() => this.lazyLoadHandler());\n      });\n    }\n\n    /**\n     * update image src\n     * @param  {DOM} el\n     * @param  {object} vue directive binding\n     * @return\n     */\n    update(el, binding, vnode) {\n      const value = this.valueFormatter(binding.value);\n      let { src } = value;\n      src = getBestSelectionFromSrcset(el, this.options.scale) || src;\n\n      const exist = this.listeners.find((item) => item.el === el);\n      if (!exist) {\n        this.add(el, binding, vnode);\n      } else {\n        exist.update({\n          src,\n          error: value.error,\n          loading: value.loading,\n        });\n      }\n      if (this.observer) {\n        this.observer.unobserve(el);\n        this.observer.observe(el);\n      }\n      this.lazyLoadHandler();\n      nextTick(() => this.lazyLoadHandler());\n    }\n\n    /**\n     * remove listener form list\n     * @param  {DOM} el\n     * @return\n     */\n    remove(el) {\n      if (!el) return;\n      this.observer && this.observer.unobserve(el);\n      const existItem = this.listeners.find((item) => item.el === el);\n      if (existItem) {\n        this.removeListenerTarget(existItem.$parent);\n        this.removeListenerTarget(window);\n        remove(this.listeners, existItem);\n        existItem.$destroy();\n      }\n    }\n\n    /*\n     * remove lazy components form list\n     * @param  {Vue} vm Vue instance\n     * @return\n     */\n    removeComponent(vm) {\n      if (!vm) return;\n      remove(this.listeners, vm);\n      this.observer && this.observer.unobserve(vm.el);\n      if (vm.$parent && vm.$el.parentNode) {\n        this.removeListenerTarget(vm.$el.parentNode);\n      }\n      this.removeListenerTarget(window);\n    }\n\n    setMode(mode) {\n      if (!hasIntersectionObserver && mode === modeType.observer) {\n        mode = modeType.event;\n      }\n\n      this.mode = mode; // event or observer\n\n      if (mode === modeType.event) {\n        if (this.observer) {\n          this.listeners.forEach((listener) => {\n            this.observer.unobserve(listener.el);\n          });\n          this.observer = null;\n        }\n\n        this.targets.forEach((target) => {\n          this.initListen(target.el, true);\n        });\n      } else {\n        this.targets.forEach((target) => {\n          this.initListen(target.el, false);\n        });\n        this.initIntersectionObserver();\n      }\n    }\n\n    /*\n     *** Private functions ***\n     */\n\n    /*\n     * add listener target\n     * @param  {DOM} el listener target\n     * @return\n     */\n    addListenerTarget(el) {\n      if (!el) return;\n      let target = this.targets.find((target) => target.el === el);\n      if (!target) {\n        target = {\n          el,\n          id: ++this.targetIndex,\n          childrenCount: 1,\n          listened: true,\n        };\n        this.mode === modeType.event && this.initListen(target.el, true);\n        this.targets.push(target);\n      } else {\n        target.childrenCount++;\n      }\n      return this.targetIndex;\n    }\n\n    /*\n     * remove listener target or reduce target childrenCount\n     * @param  {DOM} el or window\n     * @return\n     */\n    removeListenerTarget(el) {\n      this.targets.forEach((target, index) => {\n        if (target.el === el) {\n          target.childrenCount--;\n          if (!target.childrenCount) {\n            this.initListen(target.el, false);\n            this.targets.splice(index, 1);\n            target = null;\n          }\n        }\n      });\n    }\n\n    /*\n     * add or remove eventlistener\n     * @param  {DOM} el DOM or Window\n     * @param  {boolean} start flag\n     * @return\n     */\n    initListen(el, start) {\n      this.options.ListenEvents.forEach((evt) =>\n        (start ? on : off)(el, evt, this.lazyLoadHandler),\n      );\n    }\n\n    initEvent() {\n      this.Event = {\n        listeners: {\n          loading: [],\n          loaded: [],\n          error: [],\n        },\n      };\n\n      this.$on = (event, func) => {\n        if (!this.Event.listeners[event]) this.Event.listeners[event] = [];\n        this.Event.listeners[event].push(func);\n      };\n\n      this.$once = (event, func) => {\n        const on = (...args) => {\n          this.$off(event, on);\n          func.apply(this, args);\n        };\n        this.$on(event, on);\n      };\n\n      this.$off = (event, func) => {\n        if (!func) {\n          if (!this.Event.listeners[event]) return;\n          this.Event.listeners[event].length = 0;\n          return;\n        }\n        remove(this.Event.listeners[event], func);\n      };\n\n      this.$emit = (event, context, inCache) => {\n        if (!this.Event.listeners[event]) return;\n        this.Event.listeners[event].forEach((func) => func(context, inCache));\n      };\n    }\n\n    /**\n     * find nodes which in viewport and trigger load\n     * @return\n     */\n    lazyLoadHandler() {\n      const freeList = [];\n      this.listeners.forEach((listener) => {\n        if (!listener.el || !listener.el.parentNode) {\n          freeList.push(listener);\n        }\n        const catIn = listener.checkInView();\n        if (!catIn) return;\n        listener.load();\n      });\n      freeList.forEach((item) => {\n        remove(this.listeners, item);\n        item.$destroy();\n      });\n    }\n\n    /**\n     * init IntersectionObserver\n     * set mode to observer\n     * @return\n     */\n    initIntersectionObserver() {\n      if (!hasIntersectionObserver) {\n        return;\n      }\n\n      this.observer = new IntersectionObserver(\n        this.observerHandler.bind(this),\n        this.options.observerOptions,\n      );\n\n      if (this.listeners.length) {\n        this.listeners.forEach((listener) => {\n          this.observer.observe(listener.el);\n        });\n      }\n    }\n\n    /**\n     * init IntersectionObserver\n     * @return\n     */\n    observerHandler(entries) {\n      entries.forEach((entry) => {\n        if (entry.isIntersecting) {\n          this.listeners.forEach((listener) => {\n            if (listener.el === entry.target) {\n              if (listener.state.loaded)\n                return this.observer.unobserve(listener.el);\n              listener.load();\n            }\n          });\n        }\n      });\n    }\n\n    /**\n     * set element attribute with image'url and state\n     * @param  {object} lazyload listener object\n     * @param  {string} state will be rendered\n     * @param  {bool} inCache  is rendered from cache\n     * @return\n     */\n    elRenderer(listener, state, cache) {\n      if (!listener.el) return;\n      const { el, bindType } = listener;\n\n      let src;\n      switch (state) {\n        case 'loading':\n          src = listener.loading;\n          break;\n        case 'error':\n          src = listener.error;\n          break;\n        default:\n          ({ src } = listener);\n          break;\n      }\n\n      if (bindType) {\n        el.style[bindType] = 'url(\"' + src + '\")';\n      } else if (el.getAttribute('src') !== src) {\n        el.setAttribute('src', src);\n      }\n\n      el.setAttribute('lazy', state);\n\n      this.$emit(state, listener, cache);\n      this.options.adapter[state] &&\n        this.options.adapter[state](listener, this.options);\n\n      if (this.options.dispatchEvent) {\n        const event = new CustomEvent(state, {\n          detail: listener,\n        });\n        el.dispatchEvent(event);\n      }\n    }\n\n    /**\n     * generate loading loaded error image url\n     * @param {string} image's src\n     * @return {object} image's loading, loaded, error url\n     */\n    valueFormatter(value) {\n      let src = value;\n      let { loading, error } = this.options;\n\n      // value is object\n      if (isObject(value)) {\n        if (\n          process.env.NODE_ENV !== 'production' &&\n          !value.src &&\n          !this.options.silent\n        ) {\n          console.error('[@vant/lazyload] miss src with ' + value);\n        }\n\n        ({ src } = value);\n        loading = value.loading || this.options.loading;\n        error = value.error || this.options.error;\n      }\n      return {\n        src,\n        loading,\n        error,\n      };\n    }\n  };\n}\n","/**\n * This is a fork of [vue-lazyload](https://github.com/hilongjw/vue-lazyload) with Vue 3 support.\n * license at https://github.com/hilongjw/vue-lazyload/blob/master/LICENSE\n */\n\nimport { useRect } from '@vant/use';\nimport { loadImageAsync } from './util';\nimport { noop } from '../../utils';\n\nexport default class ReactiveListener {\n  constructor({\n    el,\n    src,\n    error,\n    loading,\n    bindType,\n    $parent,\n    options,\n    cors,\n    elRenderer,\n    imageCache,\n  }) {\n    this.el = el;\n    this.src = src;\n    this.error = error;\n    this.loading = loading;\n    this.bindType = bindType;\n    this.attempt = 0;\n    this.cors = cors;\n\n    this.naturalHeight = 0;\n    this.naturalWidth = 0;\n\n    this.options = options;\n\n    this.$parent = $parent;\n    this.elRenderer = elRenderer;\n    this.imageCache = imageCache;\n    this.performanceData = {\n      loadStart: 0,\n      loadEnd: 0,\n    };\n\n    this.filter();\n    this.initState();\n    this.render('loading', false);\n  }\n\n  /*\n   * init listener state\n   * @return\n   */\n  initState() {\n    if ('dataset' in this.el) {\n      this.el.dataset.src = this.src;\n    } else {\n      this.el.setAttribute('data-src', this.src);\n    }\n\n    this.state = {\n      loading: false,\n      error: false,\n      loaded: false,\n      rendered: false,\n    };\n  }\n\n  /*\n   * record performance\n   * @return\n   */\n  record(event) {\n    this.performanceData[event] = Date.now();\n  }\n\n  /*\n   * update image listener data\n   * @param  {String} image uri\n   * @param  {String} loading image uri\n   * @param  {String} error image uri\n   * @return\n   */\n  update({ src, loading, error }) {\n    const oldSrc = this.src;\n    this.src = src;\n    this.loading = loading;\n    this.error = error;\n    this.filter();\n    if (oldSrc !== this.src) {\n      this.attempt = 0;\n      this.initState();\n    }\n  }\n\n  /*\n   *  check el is in view\n   * @return {Boolean} el is in view\n   */\n  checkInView() {\n    const rect = useRect(this.el);\n    return (\n      rect.top < window.innerHeight * this.options.preLoad &&\n      rect.bottom > this.options.preLoadTop &&\n      rect.left < window.innerWidth * this.options.preLoad &&\n      rect.right > 0\n    );\n  }\n\n  /*\n   * listener filter\n   */\n  filter() {\n    Object.keys(this.options.filter).forEach((key) => {\n      this.options.filter[key](this, this.options);\n    });\n  }\n\n  /*\n   * render loading first\n   * @params cb:Function\n   * @return\n   */\n  renderLoading(cb) {\n    this.state.loading = true;\n    loadImageAsync(\n      {\n        src: this.loading,\n        cors: this.cors,\n      },\n      () => {\n        this.render('loading', false);\n        this.state.loading = false;\n        cb();\n      },\n      () => {\n        // handler `loading image` load failed\n        cb();\n        this.state.loading = false;\n\n        if (process.env.NODE_ENV !== 'production' && !this.options.silent)\n          console.warn(\n            `[@vant/lazyload] load failed with loading image(${this.loading})`,\n          );\n      },\n    );\n  }\n\n  /*\n   * try load image and  render it\n   * @return\n   */\n  load(onFinish = noop) {\n    if (this.attempt > this.options.attempt - 1 && this.state.error) {\n      if (process.env.NODE_ENV !== 'production' && !this.options.silent) {\n        console.log(\n          `[@vant/lazyload] ${this.src} tried too more than ${this.options.attempt} times`,\n        );\n      }\n\n      onFinish();\n      return;\n    }\n    if (this.state.rendered && this.state.loaded) return;\n    if (this.imageCache.has(this.src)) {\n      this.state.loaded = true;\n      this.render('loaded', true);\n      this.state.rendered = true;\n      return onFinish();\n    }\n\n    this.renderLoading(() => {\n      this.attempt++;\n\n      this.options.adapter.beforeLoad?.(this, this.options);\n      this.record('loadStart');\n\n      loadImageAsync(\n        {\n          src: this.src,\n          cors: this.cors,\n        },\n        (data) => {\n          this.naturalHeight = data.naturalHeight;\n          this.naturalWidth = data.naturalWidth;\n          this.state.loaded = true;\n          this.state.error = false;\n          this.record('loadEnd');\n          this.render('loaded', false);\n          this.state.rendered = true;\n          this.imageCache.add(this.src);\n          onFinish();\n        },\n        (err) => {\n          !this.options.silent && console.error(err);\n          this.state.error = true;\n          this.state.loaded = false;\n          this.render('error', false);\n        },\n      );\n    });\n  }\n\n  /*\n   * render image\n   * @param  {String} state to render // ['loading', 'src', 'error']\n   * @param  {String} is form cache\n   * @return\n   */\n  render(state, cache) {\n    this.elRenderer(this, state, cache);\n  }\n\n  /*\n   * output performance data\n   * @return {Object} performance data\n   */\n  performance() {\n    let state = 'loading';\n    let time = 0;\n\n    if (this.state.loaded) {\n      state = 'loaded';\n      time =\n        (this.performanceData.loadEnd - this.performanceData.loadStart) / 1000;\n    }\n\n    if (this.state.error) state = 'error';\n\n    return {\n      src: this.src,\n      state,\n      time,\n    };\n  }\n\n  /*\n   * $destroy\n   * @return\n   */\n  $destroy() {\n    this.el = null;\n    this.src = null;\n    this.error = null;\n    this.loading = null;\n    this.bindType = null;\n    this.attempt = 0;\n  }\n}\n","/**\n * This is a fork of [vue-lazyload](https://github.com/hilongjw/vue-lazyload) with Vue 3 support.\n * license at https://github.com/hilongjw/vue-lazyload/blob/master/LICENSE\n */\n\nimport { inBrowser } from '@vant/use';\n\nexport const hasIntersectionObserver =\n  inBrowser &&\n  'IntersectionObserver' in window &&\n  'IntersectionObserverEntry' in window &&\n  'intersectionRatio' in window.IntersectionObserverEntry.prototype;\n\nexport const modeType = {\n  event: 'event',\n  observer: 'observer',\n};\n\nexport function remove(arr, item) {\n  if (!arr.length) return;\n  const index = arr.indexOf(item);\n  if (index > -1) return arr.splice(index, 1);\n}\n\nexport function getBestSelectionFromSrcset(el, scale) {\n  if (el.tagName !== 'IMG' || !el.getAttribute('data-srcset')) return;\n\n  let options = el.getAttribute('data-srcset');\n  const container = el.parentNode;\n  const containerWidth = container.offsetWidth * scale;\n\n  let spaceIndex;\n  let tmpSrc;\n  let tmpWidth;\n\n  options = options.trim().split(',');\n\n  const result = options.map((item) => {\n    item = item.trim();\n    spaceIndex = item.lastIndexOf(' ');\n    if (spaceIndex === -1) {\n      tmpSrc = item;\n      tmpWidth = 999998;\n    } else {\n      tmpSrc = item.substr(0, spaceIndex);\n      tmpWidth = parseInt(\n        item.substr(spaceIndex + 1, item.length - spaceIndex - 2),\n        10,\n      );\n    }\n    return [tmpWidth, tmpSrc];\n  });\n\n  result.sort((a, b) => {\n    if (a[0] < b[0]) {\n      return 1;\n    }\n    if (a[0] > b[0]) {\n      return -1;\n    }\n    if (a[0] === b[0]) {\n      if (b[1].indexOf('.webp', b[1].length - 5) !== -1) {\n        return 1;\n      }\n      if (a[1].indexOf('.webp', a[1].length - 5) !== -1) {\n        return -1;\n      }\n    }\n    return 0;\n  });\n  let bestSelectedSrc = '';\n  let tmpOption;\n\n  for (let i = 0; i < result.length; i++) {\n    tmpOption = result[i];\n    bestSelectedSrc = tmpOption[1];\n    const next = result[i + 1];\n    if (next && next[0] < containerWidth) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    } else if (!next) {\n      bestSelectedSrc = tmpOption[1];\n      break;\n    }\n  }\n\n  return bestSelectedSrc;\n}\n\nexport const getDPR = (scale = 1) =>\n  inBrowser ? window.devicePixelRatio || scale : scale;\n\nexport function supportWebp() {\n  if (!inBrowser) return false;\n\n  let support = true;\n\n  try {\n    const elem = document.createElement('canvas');\n\n    if (elem.getContext && elem.getContext('2d')) {\n      support = elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;\n    }\n  } catch (err) {\n    support = false;\n  }\n\n  return support;\n}\n\nexport function throttle(action, delay) {\n  let timeout = null;\n  let lastRun = 0;\n  return function (...args) {\n    if (timeout) {\n      return;\n    }\n    const elapsed = Date.now() - lastRun;\n    const runCallback = () => {\n      lastRun = Date.now();\n      timeout = false;\n      action.apply(this, args);\n    };\n    if (elapsed >= delay) {\n      runCallback();\n    } else {\n      timeout = setTimeout(runCallback, delay);\n    }\n  };\n}\n\nexport function on(el, type, func) {\n  el.addEventListener(type, func, {\n    capture: false,\n    passive: true,\n  });\n}\n\nexport function off(el, type, func) {\n  el.removeEventListener(type, func, false);\n}\n\nexport const loadImageAsync = (item, resolve, reject) => {\n  const image = new Image();\n\n  if (!item || !item.src) {\n    return reject(new Error('image src is required'));\n  }\n\n  image.src = item.src;\n  if (item.cors) {\n    image.crossOrigin = item.cors;\n  }\n\n  image.onload = () =>\n    resolve({\n      naturalHeight: image.naturalHeight,\n      naturalWidth: image.naturalWidth,\n      src: image.src,\n    });\n\n  image.onerror = (e) => reject(e);\n};\n\nexport class ImageCache {\n  constructor({ max }) {\n    this.options = {\n      max: max || 100,\n    };\n    this.caches = [];\n  }\n\n  has(key) {\n    return this.caches.indexOf(key) > -1;\n  }\n\n  add(key) {\n    if (this.has(key)) return;\n    this.caches.push(key);\n    if (this.caches.length > this.options.max) {\n      this.free();\n    }\n  }\n\n  free() {\n    this.caches.shift();\n  }\n}\n","import{defineComponent as _defineComponent}from'vue';import{unref as _unref,renderList as _renderList,Fragment as _Fragment,openBlock as _openBlock,createElementBlock as _createElementBlock,resolveDirective as _resolveDirective,withDirectives as _withDirectives,createElementVNode as _createElementVNode,resolveComponent as _resolveComponent,withCtx as _withCtx,createVNode as _createVNode}from\"vue\";import{cdnURL,useTranslate}from'../../../docs/site';import Lazyload from'..';if(window.app){window.app.use(Lazyload,{lazyComponent:true});}export default/*#__PURE__*/_defineComponent({__name:'index',setup(__props){const t=useTranslate({'zh-CN':{title2:'背景图懒加载',title3:'懒加载模块'},'en-US':{title2:'Lazyload Background Image',title3:'Lazyload Component'}});const imageList=[cdnURL('apple-1.jpeg'),cdnURL('apple-2.jpeg'),cdnURL('apple-3.jpeg'),cdnURL('apple-4.jpeg')];const backgroundImageList=[cdnURL('apple-5.jpeg'),cdnURL('apple-6.jpeg')];const componentImageList=[cdnURL('apple-8.jpeg'),cdnURL('apple-7.jpeg')];return(_ctx,_cache)=>{const _component_demo_block=_resolveComponent(\"demo-block\");const _component_lazy_component=_resolveComponent(\"lazy-component\");const _directive_lazy=_resolveDirective(\"lazy\");return _openBlock(),_createElementBlock(_Fragment,null,[_createVNode(_component_demo_block,{title:_unref(t)('basicUsage')},{default:_withCtx(()=>[(_openBlock(),_createElementBlock(_Fragment,null,_renderList(imageList,img=>{return _withDirectives(_createElementVNode(\"img\",{key:img}),[[_directive_lazy,img]]);}),64))]),_:1},8,[\"title\"]),_createVNode(_component_demo_block,{title:_unref(t)('title2')},{default:_withCtx(()=>[(_openBlock(),_createElementBlock(_Fragment,null,_renderList(backgroundImageList,img=>{return _withDirectives(_createElementVNode(\"div\",{key:img}),[[_directive_lazy,img,\"background-image\"]]);}),64))]),_:1},8,[\"title\"]),_createVNode(_component_demo_block,{title:_unref(t)('title3')},{default:_withCtx(()=>[_createVNode(_component_lazy_component,null,{default:_withCtx(()=>[(_openBlock(),_createElementBlock(_Fragment,null,_renderList(componentImageList,img=>{return _withDirectives(_createElementVNode(\"img\",{key:img}),[[_directive_lazy,img]]);}),64))]),_:1})]),_:1},8,[\"title\"])],64);};}});","import{Lazyload}from'./vue-lazyload';export default Lazyload;export{Lazyload};"],"names":["Lazyload","install","app","options","lazy","lazyContainer","config","globalProperties","$Lazyload","lazyComponent","component","lazyImage","directive","beforeMount","add","bind","updated","update","unmounted","remove","unbind","props","tag","type","String","default","emits","render","h","show","$slots","data","el","state","loaded","mounted","$el","addLazyBox","lazyLoadHandler","beforeUnmount","removeComponent","methods","checkInView","rect","useRect","inBrowser","top","window","innerHeight","preLoad","bottom","left","innerWidth","right","load","$emit","destroy","$destroy","defaultOptions","selector","LazyContainer","constructor","binding","vnode","queue","Object","assign","value","imgs","getImgs","forEach","src","dataset","getAttribute","error","loading","Array","from","querySelectorAll","clear","LazyContainerManager","container","push","find","item","lazyManager","renderSrc","attempt","watch","init","created","valueFormatter","onFinish","noop","loadImageAsync","DEFAULT_URL","DEFAULT_EVENTS","DEFAULT_OBSERVER_OPTIONS","rootMargin","threshold","throttleWait","preLoadTop","dispatchEvent","silent","scale","listenEvents","filter","adapter","observer","observerOptions","mode","modeType","listeners","targetIndex","targets","getDPR","ListenEvents","supportWebp","initEvent","imageCache","ImageCache","max","throttle","setMode","performance","map","vm","addListenerTarget","observe","parentNode","some","nextTick","$parent","getBestSelectionFromSrcset","keys","modifiers","context","$refs","document","getElementById","getScrollParent","newListener","bindType","arg","cors","elRenderer","exist","unobserve","existItem","removeListenerTarget","hasIntersectionObserver","listener","target","initListen","initIntersectionObserver","childrenCount","id","listened","index","splice","start","evt","on","off","Event","$on","event","func","$once","args","$off","apply","length","inCache","freeList","IntersectionObserver","observerHandler","entries","entry","isIntersecting","cache","style","setAttribute","CustomEvent","detail","isObject","ReactiveListener","naturalHeight","naturalWidth","performanceData","loadStart","loadEnd","initState","rendered","record","Date","now","oldSrc","key","renderLoading","cb","has","beforeLoad","err","console","time","IntersectionObserverEntry","prototype","arr","indexOf","spaceIndex","tmpSrc","tmpWidth","tmpOption","tagName","containerWidth","offsetWidth","result","trim","split","lastIndexOf","substr","parseInt","sort","a","b","bestSelectedSrc","i","next","devicePixelRatio","support","elem","createElement","getContext","toDataURL","action","delay","timeout","lastRun","elapsed","runCallback","setTimeout","addEventListener","capture","passive","removeEventListener","resolve","reject","image","Image","Error","crossOrigin","onload","onerror","e","caches","free","shift","use","__name","setup","__props","t","useTranslate","title2","title3","imageList","cdnURL","backgroundImageList","componentImageList","_ctx","_cache","_component_demo_block","_component_lazy_component","_directive_lazy","title","img","_"],"mappings":"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"}